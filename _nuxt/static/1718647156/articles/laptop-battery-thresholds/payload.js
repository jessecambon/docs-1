__NUXT_JSONP__("/articles/laptop-battery-thresholds", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L){return {data:[{article:{slug:"laptop-battery-thresholds",description:"Set battery charging thresholds on your System76 laptop.\n",title:"Battery Thresholds",keywords:["Battery","Battery Life"],facebookImage:"\u002F_nuxt\u002Fimages\u002Flaptop-battery-thresholds-facebookImage.jpg",twitterImage:"\u002F_nuxt\u002Fimages\u002Flaptop-battery-thresholds-twitterImage.jpg",hidden:false,section:"hardware",tableOfContents:true,toc:[{id:u,depth:v,text:w},{id:x,depth:s,text:y},{id:z,depth:s,text:A},{id:B,depth:s,text:C},{id:D,depth:v,text:E}],body:{type:"root",children:[{type:b,tag:e,props:{},children:[{type:a,value:"Charging thresholds allow your System76 laptop to avoid charging the battery until it has dropped below a lower bound (the start threshold), and to stop charging when it reaches an upper bound (the end threshold). This is useful when your laptop is plugged into an AC power adapter for extended periods of time, as it prevents unnecessary micro-charging that would reduce battery longevity."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The default charging profile for System76 laptops with Open Firmware has a start threshold of 90 and a stop threshold of 100. This increases battery longevity while keeping the battery very close to a full charge."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"To determine if your laptop has Open Firmware or proprietary firmware, see "},{type:b,tag:"nuxt-link",props:{to:"\u002Farticles\u002Fopen-firmware-systems"},children:[{type:a,value:"this article"}]},{type:a,value:". (If a system has Open Firmware, then it must also have Open EC to work with charging thresholds.) See "},{type:b,tag:h,props:{href:F},children:[{type:a,value:"Charging Thresholds"}]},{type:a,value:" for Open Firmware systems or "},{type:b,tag:h,props:{href:G},children:[{type:a,value:"FlexiCharger"}]},{type:a,value:" for proprietary firmware systems."}]},{type:a,value:c},{type:b,tag:H,props:{id:u},children:[{type:b,tag:h,props:{href:F,ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:w}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:I,props:{},children:[{type:a,value:J}]},{type:a,value:" This feature is not currently finished. Currently, the thresholds are reset when the EC is reset (which happens when the system is shut down and the power is unplugged). Once the feature is complete, the thresholds will be persistent and a GUI will be available to set them. To work around this limitation in the short term, you can "},{type:b,tag:h,props:{href:K},children:[{type:a,value:"use systemd to set thresholds at boot"}]},{type:a,value:"."}]},{type:a,value:c},{type:b,tag:t,props:{id:x},children:[{type:b,tag:h,props:{href:"#using-the-terminal",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:y}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"You can see the thresholds that are currently set using this command:"}]},{type:a,value:c},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m],style:n},children:[{type:b,tag:f,props:{},children:[{type:b,tag:d,props:{className:[g]},children:[{type:b,tag:d,props:{style:i},children:[{type:a,value:"system76-power charge-thresholds"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[g]},children:[]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"You can list the available charging profiles using this command:"}]},{type:a,value:c},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m],style:n},children:[{type:b,tag:f,props:{},children:[{type:b,tag:d,props:{className:[g]},children:[{type:b,tag:d,props:{style:i},children:[{type:a,value:"system76-power charge-thresholds --list-profiles"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[g]},children:[]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Then, you can select a profile using one of these commands:"}]},{type:a,value:c},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m],style:n},children:[{type:b,tag:f,props:{},children:[{type:b,tag:d,props:{className:[g]},children:[{type:b,tag:d,props:{style:i},children:[{type:a,value:"system76-power charge-thresholds --profile full_charge"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[g]},children:[{type:b,tag:d,props:{style:i},children:[{type:a,value:"system76-power charge-thresholds --profile balanced"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[g]},children:[{type:b,tag:d,props:{style:i},children:[{type:a,value:"system76-power charge-thresholds --profile max_lifespan"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[g]},children:[]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"You can also set custom thresholds without using a profile. For example, this command will set the start threshold to "},{type:b,tag:f,props:{},children:[{type:a,value:"40"}]},{type:a,value:" and the end threshold to "},{type:b,tag:f,props:{},children:[{type:a,value:"80"}]},{type:a,value:":"}]},{type:a,value:c},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m],style:n},children:[{type:b,tag:f,props:{},children:[{type:b,tag:d,props:{className:[g]},children:[{type:b,tag:d,props:{style:i},children:[{type:a,value:"system76-power charge-thresholds 40 80"}]}]},{type:a,value:c},{type:b,tag:d,props:{className:[g]},children:[]}]}]}]},{type:a,value:c},{type:b,tag:t,props:{id:z},children:[{type:b,tag:h,props:{href:"#via-sysfs",ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:A}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Charging thresholds are exposed by the firmware through ACPI, and the "},{type:b,tag:f,props:{},children:[{type:a,value:"system76_acpi"}]},{type:a,value:" kernel module makes them available through standard sysfs entries:"}]},{type:a,value:c},{type:b,tag:"ul",props:{},children:[{type:a,value:c},{type:b,tag:L,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:"\u002Fsys\u002Fclass\u002Fpower_supply\u002FBAT0\u002Fcharge_control_start_threshold"}]}]},{type:a,value:c},{type:b,tag:L,props:{},children:[{type:b,tag:f,props:{},children:[{type:a,value:"\u002Fsys\u002Fclass\u002Fpower_supply\u002FBAT0\u002Fcharge_control_end_threshold"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The thresholds can be controlled by reading from and writing to these sysfs files."}]},{type:a,value:c},{type:b,tag:t,props:{id:B},children:[{type:b,tag:h,props:{href:K,ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:C}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"To work around the limitation in open firmware causing the thresholds to be reset when the system\nis shut down and unplugged, you can set the thresholds at boot via systemd. To do so, create a file called\n"},{type:b,tag:f,props:{},children:[{type:a,value:"\u002Fetc\u002Fsystemd\u002Fsystem\u002Fcharge-thresholds.service"}]},{type:a,value:" with the following contents:"}]},{type:a,value:c},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m],style:n},children:[{type:b,tag:f,props:{},children:[{type:b,tag:d,props:{className:[g]},children:[{type:b,tag:d,props:{style:i},children:[{type:a,value:"[Unit]\nDescription=Set the charge threshold at startup.\nAfter=default.target\n\n[Service]\nType=simple\nExecStart=system76-power charge-thresholds 40 80\n\n[Install]\nWantedBy=default.target\n"}]}]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Then, enable the service using this command:"}]},{type:a,value:c},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m],style:n},children:[{type:b,tag:f,props:{},children:[{type:b,tag:d,props:{className:[g]},children:[{type:b,tag:d,props:{style:i},children:[{type:a,value:"sudo systemctl enable charge-thresholds.service\n"}]}]}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Finally, start the service using "},{type:b,tag:f,props:{},children:[{type:a,value:"sudo systemctl start charge-thresholds.service"}]},{type:a,value:" or reboot to apply the thresholds."}]},{type:a,value:c},{type:b,tag:H,props:{id:D},children:[{type:b,tag:h,props:{href:G,ariaHidden:o,tabIndex:p},children:[{type:b,tag:d,props:{className:[q,r]},children:[]}]},{type:a,value:E}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"FlexiCharger is an implementation of charging thresholds in proprietary firmware, made available as a UEFI setting."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"To adjust the thresholds, reboot the computer and enter the UEFI setup utility by holding down "},{type:b,tag:"kbd",props:{},children:[{type:a,value:"F2"}]},{type:a,value:" and selecting "},{type:b,tag:f,props:{},children:[{type:a,value:"Setup Utility"}]},{type:a,value:". Navigate to Advanced, then Advanced Chipset Control, and set FlexiCharger to Enabled. Two new options will appear where you can set the start and stop thresholds."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:"nuxt-picture",props:{alt:"Enabling FlexiCharger",src:"\u002Fimages\u002Flaptop-charging-thresholds\u002Fflexicharger.jpg"},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Once configured, save and exit the setup utility. The thresholds can be disabled at any time by setting FlexiCharger back to Disabled."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:I,props:{},children:[{type:a,value:J}]},{type:a,value:" The pang12, pang13 and pang14 do not support FlexiCharging."}]}]},dir:"\u002F",path:"\u002Flaptop-battery-thresholds",extension:".md",createdAt:"2021-02-08T18:48:26.000Z",updatedAt:"2024-02-08T18:46:55.000Z",authors:[{username:"ahoneybun",commitUrl:"https:\u002F\u002Fgithub.com\u002Fsystem76\u002Fdocs\u002Fcommit\u002Fbec550079f1edd390b10eac2b2df7e920b2ac26d",avatarUrl:"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F4884946?v=4",profileUrl:"https:\u002F\u002Fgithub.com\u002Fahoneybun"},{username:"leviport",commitUrl:"https:\u002F\u002Fgithub.com\u002Fsystem76\u002Fdocs\u002Fcommit\u002F1412081513bbaada4a311f8efb6011dd24ffcef4",avatarUrl:"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F13512097?v=4",profileUrl:"https:\u002F\u002Fgithub.com\u002Fleviport"},{username:"storyaddict",commitUrl:"https:\u002F\u002Fgithub.com\u002Fsystem76\u002Fdocs\u002Fcommit\u002Fc9848a422ea3c18962f9e13ead04a335c884b43e",avatarUrl:"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F55410594?v=4",profileUrl:"https:\u002F\u002Fgithub.com\u002Fstoryaddict"},{username:"ChristopherRogers1991",commitUrl:"https:\u002F\u002Fgithub.com\u002Fsystem76\u002Fdocs\u002Fcommit\u002Fa4f50594bfcd7384b2df18cd9c66d4eb687fe10f",avatarUrl:"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F8608191?v=4",profileUrl:"https:\u002F\u002Fgithub.com\u002FChristopherRogers1991"},{username:"btkostner",commitUrl:"https:\u002F\u002Fgithub.com\u002Fsystem76\u002Fdocs\u002Fcommit\u002Fe54bdadaf285cdda4147b9f7bfc8a53111584b5a",avatarUrl:"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F3385679?v=4",profileUrl:"https:\u002F\u002Fgithub.com\u002Fbtkostner"}]},_img:{"/_ipx/w_320,f_jpeg/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002F0915d5.jpeg","/_ipx/w_640,f_jpeg/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002Fed0def.jpeg","/_ipx/w_768,f_jpeg/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002Fe973a3.jpeg","/_ipx/w_1024,f_jpeg/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002F2e5cd8.jpeg","/_ipx/w_1280,f_jpeg/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002F364997.jpeg","/_ipx/w_1536,f_jpeg/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002Feeef82.jpeg","/_ipx/w_320,f_webp/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002F6b8bd5.webp","/_ipx/w_640,f_webp/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002F24319c.webp","/_ipx/w_768,f_webp/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002F6f4ed6.webp","/_ipx/w_1024,f_webp/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002F5a8bac.webp","/_ipx/w_1280,f_webp/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002F8e0132.webp","/_ipx/w_1536,f_webp/images/laptop-charging-thresholds/flexicharger.jpg":"\u002F_nuxt\u002Fimage\u002Ff24e84.webp"}}],fetch:{},mutations:void 0}}("text","element","\n","span","p","code","line","a","color: var(--code-0F)","div","nuxt-content-highlight","pre","shiki","background-color: var(--code-00)","true",-1,"icon","icon-link",3,"h3","configuring-charging-thresholds-open-firmware",2,"Configuring Charging Thresholds (Open Firmware)","using-the-terminal","Using the terminal","via-sysfs","Via sysfs","at-boot","At boot","configuring-flexicharger-proprietary-firmware","Configuring FlexiCharger (proprietary firmware)","#configuring-charging-thresholds-open-firmware","#configuring-flexicharger-proprietary-firmware","h2","strong","Note:","#at-boot","li")));